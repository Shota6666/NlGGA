<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AR 疊鴨子 - 影片背景版</title>

  <!-- 引入 A-Frame (AR 核心) -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: 'Arial', sans-serif;
      background-color: #000;
    }

    /* --- 起始畫面容器 --- */
    #start-screen {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 999;
      display: flex;
      justify-content: center;
      /* 水平置中 */
      align-items: flex-end;
      /* 靠下對齊 */
      background-color: #000;
      /* 影片載入前的底色 */
    }

    /* --- 背景影片設定 (關鍵) --- */
    #bg-video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      /* 讓影片完整呈現，不要裁切 */
      z-index: -1;
      /* 放在最底層 */
    }

    /* --- 遮罩層 (可選) --- */
    /* 加一層半透明黑影，讓按鈕看起比較清楚，如果影片很亮的話 */
    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.2);
      pointer-events: none;
    }

    /* --- 開始按鈕樣式 --- */
    #start-btn {
      /* --- ✨ 升級版：3D 糖果質感按鈕 ✨ --- */
      /* 位置調整 */
      margin-bottom: 12%;
      /* 根據手機螢幕高度調整，可以改成 15% 如果覺得太低 */
      padding: 15px 60px;
      /* 按鈕大小 */

      /* 字體設定 */
      font-size: 24px;
      font-weight: 900;
      /* 特粗體 */
      color: #ffffff;
      letter-spacing: 2px;
      /* 字距寬一點比較可愛 */
      text-shadow: 1px 2px 0px rgba(0, 0, 0, 0.1);
      /* 文字微立體 */

      /* 形狀與背景 - 暖黃色漸層 */
      background: linear-gradient(180deg, #FFECB3 0%, #FFCA28 100%);
      border-radius: 50px;
      /* 圓角 */
      border: none;
      /* 移除預設邊框 */

      /* --- 關鍵：3D 立體效果 --- */
      /* 第一層陰影：按鈕下方的深橘色厚度 */
      /* 第二層陰 Adası：地板上的模糊影子 */
      /* 第三層陰影(inset)：上方的高光，製造塑膠光澤感 */
      box-shadow:
        0px 6px 0px #FF8F00,
        0px 15px 20px rgba(0, 0, 0, 0.2),
        inset 0px 2px 5px rgba(255, 255, 255, 0.5);

      cursor: pointer;
      z-index: 10;
      /* 確保按鈕在影片上層 */
      transition: all 0.1s ease;
      /* 動畫過渡 */

      /* 讓手機點擊時不會有藍色框框 */
      -webkit-tap-highlight-color: transparent;
      outline: none;
    }

    /* --- 按鈕被點擊時的動畫 (壓下去的效果) --- */
    #start-btn:active {
      transform: translateY(4px);
      /* 往下移 */
      /* 減少厚度陰影，看起來像真的被壓扁 */
      box-shadow:
        0px 2px 0px #FF8F00,
        0px 5px 10px rgba(0, 0, 0, 0.2),
        inset 0px 2px 5px rgba(255, 255, 255, 0.5);

    }

    #start-btn:active {
      transform: scale(0.95);
    }

    /* --- 主遊戲層 (隱藏中) --- */
    #game-layer {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>

  <!-- === 起始畫面 === -->
  <div id="start-screen">

    <!-- 背景影片 -->
    <!-- autoplay: 自動播放 -->
    <!-- loop: 循環播放 -->
    <!-- muted: 靜音 (瀏覽器規定：自動播放必須靜音) -->
    <!-- playsinline: 讓 iPhone 不要全螢幕播放，而是當作背景 -->
    <video id="bg-video" autoplay loop muted playsinline>
      <source src="index.mp4" type="video/mp4">
      您的瀏覽器不支援影片標籤。
    </video>

    <!-- 遮罩 (讓文字清楚一點) -->
    <div class="overlay"></div>

    <!-- 開始按鈕 -->
    <button id="start-btn">帶我去玩！</button>
  </div>

  <!-- === 主遊戲畫面 (AR) === -->
  <div id="game-layer">
    <a-scene embedded xr-mode-ui="enabled: false">
      <a-entity camera></a-entity>
    </a-scene>
  </div>

  <script>
    const startScreen = document.getElementById('start-screen');
    const startBtn = document.getElementById('start-btn');
    const gameLayer = document.getElementById('game-layer');
    const video = document.getElementById('bg-video');

    startBtn.addEventListener('click', () => {
      window.location.href = 'how_to_play_tutorial.html';
    });
  </script>
</body>

</html>